<script type="text/javascript" src="//www.klaviyo.com/media/js/public/klaviyo_subscribe.js"></script> 
{% assign quizData = shop.metaobjects['quiz']['quiz-s1kuud4l']['quiz_1'].value %}
{% assign quizLength = shop.metaobjects['quiz']['quiz-s1kuud4l']['quiz_1'] | split: "," %}
<quiz-modal>
<div class="quiz__modal hidden">
    <div class="quiz__modal--overlay"></div>
    
    {% comment %} <div class="quiz-wrapper">
        <div class="quiz--init">
            <h3>Welcome to <br>VITAHUSTLE </h3>
            <p>Get Started</p>
            <button class="btn btn--started">Unlock Exclusive Offer</button>
        </div>
    </div> {% endcomment %}
    <div class="quiz_started">
        <div class="quiz__header">
            <button class="btn--skip" data-active-step="1">Skip</button>
            <div class="stepofactive">Step <span class="activestep">1</span> Of {{ quizLength.size }}</div>
            <div class="stepClose">
                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" id="stepCloseSvg">
                    <path d="M7.5 7.5L15 15L22.5 7.5" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M7.5 21.75L15 15L22.5 21.75" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
        </div>
        {% assign percentage = 0 %}
        {% assign saving = quizLength.size | minus: 1 | times: 100 | divided_by: quizLength.size | round %}
        {% assign percentage = 100 | minus: saving | at_least: percentage %}

        <div class="progressBar"><span class="" style="width: {{ percentage }}%;"></span></div>
        <div class="quiz__steps">
            {% for que in quizData %}       
                {% liquid
                    assign mainIndex = forloop.index
                %}         
                <div class="step quiz_step__{{ mainIndex }} {% if mainIndex == 1 %} active {% endif %}" data-step="{{ mainIndex }}">
                    <h3 class="step__heading" data-heading="{{ que.question_main_text | handleize }}">{{ que.question_main_text }}</h3>
                    <p class="step_subheading">{{ que.question_subtitle }}</p>
                    <div class="stepData">
                        {% for answer in que.quiz_answer.value %}
                            <div class="item">
                                <input type="{{ answer.type }}" class="step_{{ mainIndex }}_input step_input" name="step_{{ que.question_main_text | handleize }}" value="{{ answer.answer_text }}" id="step_{{ mainIndex }}_{{ answer.answer_text | handleize }}">
                                <label for="step_{{ mainIndex }}_{{ answer.answer_text | handleize }}">
                                    {% if answer.type == 'checkbox' %}
                                        <span class="checkbox">
                                            <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                                <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="3.5" stroke="black"/>
                                            </svg>
                                            <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                                <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="2.5" stroke="black"/>
                                                <rect y="0.769531" width="16.78" height="16.78" rx="3" fill="#C7E813"/>
                                                <path d="M5.08984 9.29904L7.32718 11.6022L12.0815 6.70801" stroke="black" stroke-width="2"/>
                                            </svg>
                                        </span>
                                    {% else %}
                                        <span class="checkbox">
                                            <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                                <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                            </svg>
                                            <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                                <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                                <rect y="0.769531" width="16.78" height="16.78" rx="8.39" fill="#C7E813"/>
                                                <path d="M5.09033 9.29904L7.32767 11.6022L12.082 6.70801" stroke="#212121" stroke-width="2"/>
                                            </svg>
                                        </span>
                                    {% endif %}
                                    {%- if mainIndex == 2 -%}
                                        <h4>
                                            <span>{{ answer.answer_text | split: '(' | first }}</span>
                                              
                                            ({{ answer.answer_text | split: '(' | last | split: ')' | first }})
                                          </h4> 
                                        {%- else -%}
                                        <h4>{{ answer.answer_text }}</h4>                                        
                                    {%- endif -%}
                                     
                                    {% comment %} <h4>{{ answer.answer_text }}</h4> {% endcomment %}
                                    {% comment %} <img src="{{ answer.answer_image.value | img_url: 'master' }}" class="" alt="{{ answer.answer_text | handleize }}"> {% endcomment %}
                                </label>
                            </div>
                        {% endfor %}
                    </div>                
                </div>
            {% endfor %}
            {% comment %}
            <div class="step quiz_step__2" data-step="2">
                <h3 class="step__heading" data-heading="On an average day, you eat fruits and vegetables…">On an average day, you eat <br> fruits and vegetables…</h3>
                <p class="step_subheading">Choose any one</p>
                <div class="stepData">
                    <div class="item">
                        <input type="radio" class="step_2_input step_input" name="average_day" value="Almost never (0-1 times/day)" id="step_2_almost_never">
                        <label for="step_2_almost_never">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="8.39" fill="#C7E813"/>
                                    <path d="M5.09033 9.29904L7.32767 11.6022L12.082 6.70801" stroke="#212121" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Almost never (0-1 times/day)</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/apple.png?v=1698747607" class="" alt="More energy">
                        </label>
                    </div>
                    <div class="item">
                        <input type="radio" class="step_2_input step_input" name="average_day" value="Fair Amount(2-3 times/day)" id="step_2_fair_amount">
                        <label for="step_2_fair_amount">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="8.39" fill="#C7E813"/>
                                    <path d="M5.09033 9.29904L7.32767 11.6022L12.082 6.70801" stroke="#212121" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Fair Amount (2-3 times/day)</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/fairAmount.png?v=1698747607" class="" alt="Fair Amount (2-3 times/day)">
                        </label>
                    </div>
                    <div class="item">
                        <input type="radio" class="step_2_input step_input" name="average_day"  value="Healthy Amount (3+ times/day)" id="step_1_healthy_amount">
                        <label for="step_1_healthy_amount">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="8.39" fill="#C7E813"/>
                                    <path d="M5.09033 9.29904L7.32767 11.6022L12.082 6.70801" stroke="#212121" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Healthy Amount (3+ times/day)</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/healthyAmount.png?v=1698747607" class="" alt="Healthy Amount (3+ times/day)">
                        </label>
                    </div>
                </div> 
            </div>
            <div class="step quiz_step__3" data-step="3">
                <h3 class="step__heading" data-heading="What type of exercise do you do?">What type of exercise do you do?</h3>
                <p class="step_subheading">choose all that apply</p>
                <div class="stepData">
                    <div class="item">
                        <input type="checkbox" class="step_3_input step_input" name="exercise" value="Running" id="step_3_running">
                        <label for="step_3_running">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="3.5" stroke="black"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="2.5" stroke="black"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="3" fill="#C7E813"/>
                                    <path d="M5.08984 9.29904L7.32718 11.6022L12.0815 6.70801" stroke="black" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Running</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/running.png?v=1698748906" class="" alt="Running">
                        </label>
                    </div>
                    <div class="item">
                        <input type="checkbox" class="step_3_input step_input"  name="exercise" value="Walking" id="step_3_walking">
                        <label for="step_3_walking">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="3.5" stroke="black"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="2.5" stroke="black"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="3" fill="#C7E813"/>
                                    <path d="M5.08984 9.29904L7.32718 11.6022L12.0815 6.70801" stroke="black" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Walking</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/walking.png?v=1698748907" class="" alt="Walking">
                        </label>
                    </div>
                    <div class="item">
                        <input type="checkbox" class="step_3_input step_input"  name="exercise" value="Cycling" id="step_3_cycling">
                        <label for="step_3_cycling">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="3.5" stroke="black"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="2.5" stroke="black"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="3" fill="#C7E813"/>
                                    <path d="M5.08984 9.29904L7.32718 11.6022L12.0815 6.70801" stroke="black" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Cycling</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/cycling.png?v=1698748907" class="" alt="Cycling">
                        </label>
                    </div>
                    <div class="item">
                        <input type="checkbox" class="step_3_input step_input"  name="exercise" value="Weight Lifting" id="step_3_weight_lifting">
                        <label for="step_3_weight_lifting">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="3.5" stroke="black"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="2.5" stroke="black"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="3" fill="#C7E813"/>
                                    <path d="M5.08984 9.29904L7.32718 11.6022L12.0815 6.70801" stroke="black" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Weight Lifting</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/weight_lifting.png?v=1698748906" class="" alt="Weight Lifting">
                        </label>
                    </div>
                    <div class="item">
                        <input type="checkbox" class="step_3_input step_input"  name="exercise" value="Other" id="step_3_other">
                        <label for="step_3_other">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="3.5" stroke="black"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="2.5" stroke="black"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="3" fill="#C7E813"/>
                                    <path d="M5.08984 9.29904L7.32718 11.6022L12.0815 6.70801" stroke="black" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Other</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/ex_other.png?v=1698748906" class="" alt="Other">
                        </label>
                    </div>
                </div>     
            </div>
            <div class="step quiz_step__4" data-step="4">
                <h3 class="step__heading" data-heading="How motivated are you to improve your overall well-being?">How motivated are you to<br> improve your overall well-being?</h3>
                <p class="step_subheading">Choose any one</p>
                <div class="stepData">
                    <div class="item">
                        <input type="radio" class="step_4_input step_input" name="motivated" value="Not motivated" id="step_4_not_motivated">
                        <label for="step_4_not_motivated">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="8.39" fill="#C7E813"/>
                                    <path d="M5.09033 9.29904L7.32767 11.6022L12.082 6.70801" stroke="#212121" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Not motivated</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/not_motivated.png?v=1698749420" class="" alt="Not motivated">
                        </label>
                    </div>
                    <div class="item">
                        <input type="radio" class="step_4_input step_input" name="motivated" value="Moderately motivated" id="step_4_moderately">
                        <label for="step_4_moderately">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="8.39" fill="#C7E813"/>
                                    <path d="M5.09033 9.29904L7.32767 11.6022L12.082 6.70801" stroke="#212121" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Moderately motivated</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/moderately.png?v=1698749420" class="" alt="Moderately motivated">
                        </label>
                    </div>
                    <div class="item">
                        <input type="radio" class="step_4_input step_input" name="motivated"  value="Very motivated" id="step_4_very_motivated">
                        <label for="step_4_very_motivated">
                            <span class="checkbox">
                                <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.26953" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                </svg>
                                <svg class="checked" xmlns="http://www.w3.org/2000/svg" width="17" height="18" viewBox="0 0 17 18" fill="none">
                                    <rect x="0.5" y="1.45801" width="15.78" height="15.78" rx="7.89" stroke="#212121"/>
                                    <rect y="0.769531" width="16.78" height="16.78" rx="8.39" fill="#C7E813"/>
                                    <path d="M5.09033 9.29904L7.32767 11.6022L12.082 6.70801" stroke="#212121" stroke-width="2"/>
                                </svg>
                            </span>
                            <h4>Very motivated</h4>

                            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/very_motivated.png?v=1698749420" class="" alt="Very motivated">
                        </label>
                    </div>
                </div> 
            </div>
            {% endcomment %}
        </div> 
        <div class="stepButtonsGroup">
            <button class="btn btn--prev_step hidden" data-prev="1" data-active="2">PREVIOUS</button>
            <button class="btn btn--next_step" data-active="1" data-next="2">Next</button>
        </div>
    </div>
    <div class="quiz__klaviyoForm">
        <div class="flex">
            <div class="image__wrapper">
                <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/Background_10.png?v=1713267274" alt="Klaviyo-form" />
            </div>
            <div class="image__wrapper mobile_only">
                <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/Background_11.png?v=1714995807" alt="Klaviyo-form" />
            </div>
            <div class="klaviyoForm">
                <form id="email_signup" class="klaviyo_styling klaviyo_gdpr_embed_myID quiz_klaviyo_form email-capture__form" data-ajax-submit="//manage.kmail-lists.com/ajax/subscriptions/subscribe" method="GET"  target="_blank">
                    <h3>Unlock Exclusive Offer</h3>
                    <p>Enter your email to receive your discount</p>
                        <input type="hidden" name="g" value="VJXaw2">  
                        <input type="hidden" name="$fields" value="$consent,$phone_number,{% for que in quizData %}{{ que.question_main_text | handleize }} {% unless forloop.last %},{% endunless %}{% endfor %}, skip">              
                        {% comment %} <input type="hidden" name="$fields" value="$phone_number,$consent,{% for que in quizData %}{{ que.question_main_text | handleize }} {% unless forloop.last %},{% endunless %}{% endfor %}, skip"> {% endcomment %}
                        <input type="hidden" name="$list_fields" value="$consent">
                        {% for que in quizData %}
                            <input type="hidden" name="{{ que.question_main_text | handleize }}">
                        {% endfor %}
                        <input type="hidden" name="skip" value="false" />
                        
                    <input class="form-control" required name="email" id="k_id_email" type="email" placeholder="Enter Your Email" data-sb-validations="required,email" />
                    {% comment %}<input class="form-control" required name="$phone_number" id="k_id_phone_number" type="number" placeholder="Enter Your Phone Number" data-sb-validations="required,phoneNumber" required />{% endcomment %}
                    {% comment %} <input class="form-control" id="k_id_phone_number" type="phone" value="" name="$phone_number" placeholder="Enter Your Phone Number" data-sb-validations="required,$phone_number" > {% endcomment %}
                    <button type="submit" class="btn klaviyo_submit_button">UNLOCK OFFER</button>
                
                    <div class="klaviyo_messages">
                        <div class="success_message" style="display:none;"></div>
                        <div class="error_message" style="display:none;"></div>
                    </div>
                </form>     
                {% comment %} <p class="sms_text">
                    By submitting this form, you agree to receive recurring automated promotional and personalized marketing text messages (e.g. cart reminders) from Vitahustle at the cell number used when signing up. Consent is not a condition of any purchase. Reply HELP for help and STOP to cancel. Msg frequency varies. Msg and data rates may apply. View <a href="/pages/terms-and-conditions">Terms</a> & <a href="https://vitahustle.com/pages/privacy-policy">Privacy</a>.
                </p> {% endcomment %}
                {% comment %} <ul class="footerLinks">
                    <li><a href="/pages/privacy-policy">Privacy Policy</a></li>
                    <span>|</span>
                    <li><a href="/pages/terms-and-conditions">Terms & Conditions</a></li>
                    
                </ul> {% endcomment %}
            </div>
        </div>
    </div>
    <div class="loading__screen">
        <div id="loading_bar"></div>
        <div class="loading_content">
            <img src="https://cdn.shopify.com/s/files/1/0133/3562/5792/files/image_29.png?v=1698828946" class="mx-auto" alt="Logo">
            <p>Welcome to VitaHustle!</p>
            <h2>Unlocking your exclusive offer…</h2>
        </div>
    </div>
</div>

<style>
    .quiz__modal {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        height: 100%;
        z-index: 9;
    }
    .quiz__modal--overlay {
        background-color: rgba(0, 0, 0, 0.7);
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
    }
    .quiz-wrapper {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        background: #C8E812;
        padding: 50px;
        border-radius: 10px;
        max-width: 500px;
        width: 100%;
    }
    .quiz_started {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #fff;
        width: 100%;
        height: 100%;
        overflow: auto;
    }
    .quiz--init {
        text-align: center;
        
    }
    .quiz--init h3 {
        font-size: 65px;
        color: #212121;
    }
    .quiz--init p {
        font-size: 16px;
        font-family: 'Lato Bold', sans-serif;
        color: #212121;
        margin-top: 8px;
    }
    .quiz--init .btn--started {
        background-color: #212121;
        color: #fff;
        margin-top: 35px;
        font-size: 14px;
        font-family: 'Lato Bold', sans-serif;
    }
    .quiz-wrapper.hidden,
    .step,
    .quiz_started {
        display: none;
    }
    .quiz_started.active,
    .step.active {
        display: block;
    }
    .quiz__header {
        background: #232422;
        color: #fff;
        padding: 18px 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    button.btn--skip {
        background: transparent;
        border: 0;
        color: #fff;
        padding: 0;
        cursor: pointer;
        color: #FFF;
        text-align: center;
        font-size: 16px;
        font-family: 'Lato Bold', sans-serif;
        line-height: 123.5%;
        letter-spacing: -0.48px;
        text-transform: uppercase;
    }
    .stepofactive {
        color: #C7E813;
        text-align: center;
        font-family: Lato;
        font-size: 16px;
        font-style: normal;
        font-family: 'Lato Bold', sans-serif;
        line-height: 123.5%;
        text-transform: uppercase;
    }
    .progressBar {
        background: #E4E4E4;
        height: 7px;
        width: 100%;
    }
    .progressBar span {
        background: #C8E812;
        height: 7px;
        display: block;
    }
    .quiz__steps {
        margin-top: 80px;
    }
    .stepData {
        max-width: 700px;
        margin: 24px auto 0;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }
    .quiz__steps .step__heading{
        font-family: 'Lato Bold', sans-serif;
        text-align: center;
        font-size: 24px;
        font-weight: 800;
        text-transform: none;
    }
    .quiz__steps .step_subheading{
        font-family: 'Lato Bold', sans-serif;
        text-align: center;
        font-size: 12px;
        color: #959595;
        margin-top: 8px;
        letter-spacing: 0.24px;
        text-transform: capitalize;
    }
    @media screen and (min-width: 768px) {

        .stepData .item {
            width: 50%;
            padding: 0 12px;
            margin: 12px 0;
        }
    }
    .stepData .item input {
        display: none;
    }
    .stepData .item label {
        display: flex;
        align-items: center;
        gap: 12px;
        border: 1px solid #E4E4E4;
        border-radius: 13px;
        padding: 24px 15px;
    }
    .item img {
        margin-left: auto;
        display: block;
    }
    .item label span {
        margin-left: 15px;
    }
    .item label h4 {
        font-size: 16px;
        font-family: "Lato Semibold";
        text-transform: capitalize;
        line-height: 20px;
        {% comment %} max-width: 127px; {% endcomment %}
    }
    .checkbox .checked {
        display: none;
    }
    .stepData .item input:checked + label span .unchecked {
        display: none;
    }
    .stepData .item input:checked + label span .checked {
        display: block;
    }
    .stepData .item input:checked + label{
        border: 1px solid #C7E813;
        background: #F6F9E8;
    }
    .stepData .item input:checked + label h4 {
        font-weight: 800 !important;
        font-family: 'Lato Bold', sans-serif;
    }
    .stepButtonsGroup {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 20px;
        margin-top: 32px;
    }
    .btn--next_step {
        border-radius: 26px;
        background: #C7E813;
        color: #000;
        border: 2px solid #C7E813;
        font-family: 'Lato Bold', sans-serif;
    }
    .quiz_step__2 .stepData,
    .quiz_step__4 .stepData {
        max-width: 350px;
    }
    .quiz_step__2 .stepData .item,
    .quiz_step__4 .stepData .item {
        width: 100%;
        padding: 0;
    }
    button.btn.btn--prev_step {
        border: 2px solid #212121;
        border-radius: 26px;
        background: transparent;
        font-family: 'Lato Bold', sans-serif;
        color: #000;
    }
    .quiz__klaviyoForm {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #fff;
        width: 100%;
        height: 100%;
        display: none;
    }
    .quiz__klaviyoForm.active {
        display: block;
    }
    .quiz__klaviyoForm .flex {
        display: flex;
        height: 100%;
    }
    .quiz__klaviyoForm .image__wrapper {
        width: 50%;
    }
    .quiz__klaviyoForm .image__wrapper.mobile_only{
        display: none;
    }
    @media screen and (min-width: 990px) {
        .quiz__klaviyoForm .image__wrapper {
            flex-grow: 1;
        }
    }
    
    .quiz__klaviyoForm img {
        display: block;
        max-width: 100%;
        height: 100%;
        object-fit: cover;
    }   
    .klaviyoForm {
        width: 50%;
        display: flex;
        align-items: center;
        flex-direction: column;
        justify-content: center;
    }
    @media screen and (min-width: 990px) {
        .klaviyoForm {
            width: 50%;
        }
    }
    .klaviyoForm h3 {
        color: #212121;

        text-align: center;
        font-size: 45px;
        font-style: normal;
        font-weight: 700;
        line-height: normal;
        letter-spacing: 0.45px;
        text-transform: uppercase;
    }
    .klaviyoForm p {
        color: #3C3C3C;
        font-family:"FK Grotesk Neue Regular";
        font-size: 16px;
        font-style: normal;
        font-weight: 500;
        line-height: normal;
        letter-spacing: 0.32px;
        text-transform: capitalize;
        text-align: center;
    }
    .sms_text{
        color: #959595 !important;

        text-align: center !important;
        font-family: "Lato Regular", sans-serif !important;
        font-size: 12px !important;
        font-style: normal !important;
        font-weight: 400 !important;
        line-height: 17px !important;
        text-transform: capitalize !important;
        max-width: 444px;
    }
    .sms_text a{
        text-decoration: underline;
    }
    form#email_signup {
        max-width: 430px;
        width: 100%;
        {% comment %} margin-top: auto; {% endcomment %}
    }
    .klaviyoForm input#k_id_email,.klaviyoForm input#k_id_phone_number {
        background: #F5F5F5;
        border: 0;
        width: 100%;
        padding: 16px 15px;
        margin-top: 24px;
        height: 50px;
    }
    button.btn.klaviyo_submit_button {
        border-radius: 26px;
        background: #C7E813;
        width: 100%;
        font-size: 16px;
        font-style: normal;
        font-weight: 900;
        color: #212121;
        margin-top: 18px;
    }
    ul.footerLinks {
        list-style: none;
        padding: 0;
        display: flex;
        align-items: center;
        gap: 18px;
        margin-top: auto;
        margin-bottom: 30px;
    }
    ul.footerLinks span {
        color: #959595;
        font-size: 14px;
    } 
    ul.footerLinks li a {
        color: #959595;
        font-family: "Lato Regular", sans-serif;
        font-size: 14px;
        font-style: normal;
        font-weight: 500;
        line-height: normal;
        letter-spacing: 0.28px;
        text-transform: capitalize;
        text-decoration: none;
    }
    .loading__screen {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url('https://cdn.shopify.com/s/files/1/0133/3562/5792/files/Frame_48095989_a9bb04e8-670d-4cc7-9bd9-587e03703b2a.png?v=1702291084');
        {% comment %} background-color: #F0F2F2; {% endcomment %}
        background-color: #FFFFFF; 
        width: 100%;
        height: 100%;
        background-repeat: repeat;
        background-position: center;
        background-size: contain;
        display: none;
    }
    .loading__screen.active {
        display: block;
    }
    div#loading_bar {
        height: 7px;
        width: 0;
        background: #C7E813;
        display: block;
    }
    .loading_content {
        display: flex;
        align-items: center;
        height: 100%;
        justify-content: center;
        flex-direction: column;
    }
    .loading_content img {
        margin-bottom: 40px;
    }
    .loading_content h2 {
        color: #212121;
        text-align: center;
        font-size: 65px;
        font-style: normal;
        font-weight: 700;
        letter-spacing: 0.65px;
        text-transform: uppercase;
        margin-top: 16px;
        margin-bottom: 8px;
    }
    .loading_content p {
        color: #3C3C3C;
        font-family: "Sohne_Breit_regular";
        font-size: 20px;
        font-style: normal;
        font-weight: 500;
        line-height: normal;
    }
    @media screen and (max-width: 900px) {
        .quiz__klaviyoForm .flex{
            flex-wrap: wrap;
            height: auto;
        }
        .quiz__klaviyoForm .image__wrapper {
            display: none;
        }
        .quiz__klaviyoForm .image__wrapper.mobile_only{
            display: block;
        }
        .quiz__klaviyoForm .image__wrapper, .klaviyoForm {
            width: 100%;
        }
        .quiz__klaviyoForm img {
            height: auto;
            object-fit: contain;
        }
        .sms_text{
            color: #959595;
            text-align: center;
            font-size: 14px !important;
            font-style: normal;
            font-weight: 400;
            line-height: 18px !important;
            max-width: 400px !important;
            margin-top: 15px;
            padding: 0px 16px;
        }
    }
    @media screen and (max-width: 767px) {
        .stepButtonsGroup {
            gap: 10px;
        }
        .stepButtonsGroup button {
            width: 45%;
            height: 44px;
        }
        .stepData .item label {
            {% comment %} padding: 5px 5px 5px 0; {% endcomment %}
        }
        .quiz__header {
            padding: 18px 20px;
        }
        .quiz__steps .step__heading {
            max-width: 90%;
            margin: auto;
        }
        .item img {
            max-height: 70px;
        }
        .quiz__steps {
            margin-top: 28px;
        }
        .stepData{
            padding: 0 20px;
        }
        .item {
            width: 100%;
            margin-bottom: 18px;
        }
        .quiz_step__2 .stepData, .quiz_step__4 .stepData {
            max-width: 100%;
        }
        .quiz__klaviyoForm .image__wrapper,
        .klaviyoForm {
            width: 100%;
        }
        .quiz__klaviyoForm .flex {
            flex-wrap: wrap;
            height: auto;
        }
        .quiz__klaviyoForm img {
            height: auto;
            object-fit: contain;
        }
        .klaviyoForm {
            margin-top: 30px;
        }
        ul.footerLinks {
            margin-top: 30px;
            margin-bottom: 0;
        }
        .loading_content h2 {
            font-size: 50px;
            padding: 0px 20px;
        }
        form#email_signup{
            width: calc(100% - 30px);
            margin: 0 auto;
        }
        .quiz__klaviyoForm.active {
            overflow-y: scroll;
        }
        .klaviyoForm p{
            margin-bottom: 20px;
        }
        .klaviyoForm input#k_id_email, .klaviyoForm input#k_id_phone_number{
            margin-bottom: 20px;
            margin-top: 0px;
            font-size: 14px;
        }
        button.btn.klaviyo_submit_button{
            margin-top: 0px;
        }
        .quiz__klaviyoForm .image__wrapper{
            display: none;
        }
        .quiz__klaviyoForm .image__wrapper.mobile_only{
            display: block;
        }
        .sms_text{
            color: #959595;
            text-align: center;
            font-size: 14px !important;
            font-style: normal;
            font-weight: 400;
            line-height: 18px !important;
            max-width: 400px !important;
            margin-top: 15px;
            padding: 0px 16px;
        }
    }
    @media screen and (max-width: 400px) {
        .quiz__steps .step__heading{
            margin: 0px 30px;
        }
    }
</style>
<script>
    window.totalStep = {{ quizLength.size }};
  if({{settings.enable_quiz_offcode}}){
    window.discountCode = `{{ settings.quiz_code }}`;
  }
    
</script>


{%  liquid 

    assign desktop_img = section.settings.desktop_img
    assign mobile_img = section.settings.mobile_img
    assign tablet_img = section.settings.tablet_img
    
%}
<section class="image-with-banner image_banner_new_section">
    {% comment %} <div class="banner__overlay"></div> {% endcomment %}
  {% if desktop_img != blank %}
    <div class="desktop_video_wrapper">
      <img
        loading="eager"
        alt="desktop_banner"
        class="desktop_only"
        src="{{ desktop_img | img_url: '1440x' }}"
        srcset="{{ desktop_img | img_url: 'medium' }} 600w, {{ desktop_img | img_url: '1600x' }} 1400w" />
    </div>
  {% endif %}
  
  {% if tablet_img != blank %}
    <div class="tablet_video_wrapper">
      <img
        loading="eager"
        alt="Tablet_banner"
        class="mobile_only"
        src="{{ tablet_img | img_url: '800x' }}"
        srcset="{{ tablet_img | img_url: '700x' }} 600w, {{ tablet_img | img_url: '1600x' }} 1400w" />
    </div>
  {% endif %}
  {% if mobile_img != blank %}
    <div class="mobile_video_wrapper">
      <img
        loading="eager"
        alt="mobile_banner"
        class="mobile_only"
        src="{{ mobile_img | img_url: '800x' }}"
        srcset="{{ mobile_img | img_url: '700x' }} 600w, {{ mobile_img | img_url: '1600x' }} 1400w" />
    </div>
  {% endif %}
    {% if section.settings.caption != blank %}
        {% comment %} <div class="banner-top">
            <h4>{{ section.settings.caption }}</h4>
        </div> {% endcomment %}
        <style>
            .banner-top {
                background: rgba(240, 242, 242);
                color: #fff;
                position: absolute;
                top: 0;
                padding: 24px;
                text-align: center;
                left: 0;
                right: 0;
            }
            .banner-top h4 {
                color: #000;
                font-family: 'Lato Heavy', sans-serif;
                font-size: 24px;
                font-style: normal;
                line-height: 123.5%;
                letter-spacing: -0.72px;
                text-transform: uppercase;
            }
            .banner-top h4 span{
                color: #C8E812;
            }
        </style>
    {% endif %}
  <div class="image-banner__content-wrap">
    <div class="content_wrapper">
        <h2 class="h1">{{ section.settings.title }}</h2>
        {% if section.settings.text != blank %}        
            <div class="rte {{ body_size }} image-banner__text body-font-weight-from-global-settings">
                {{ section.settings.text }}
            </div>
        {% endif %}
        <button type="button" class="btn btn--started" id="btn--quizStarted">Take Quiz</button>
    </div>
    {% if section.settings.note != blank %}
        <div class="banner-bottom">{{ section.settings.note }}</div>
    {% endif %}
  </div>

</section>

</quiz-modal>
<script src="{{ 'quiz-modal.js' | asset_url }}" defer="defer"></script>

<style>
    .image_banner_new_section {
        position: relative;
    }
    .mobile_video_wrapper,.tablet_video_wrapper {
        display: none !important;
        width: 100%;
    }
    .desktop_video_wrapper {
        display: block !important;
        width: 100%;
    }
    .desktop_video_wrapper > img,
    .mobile_video_wrapper > img,
    .tablet_video_wrapper > img
    {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }
    .image-with-banner.image_banner_new_section h2 {
        font-size: 7.889vw;
        color: #FFF;
        text-align: center;
        text-shadow: 0px 4px 8px rgba(0, 0, 0, 0.35);
        font-family: 'Druk Web', sans-serif;
        font-style: normal;
        font-weight: 700;
        line-height: 9.028vw; /* 101.563% */
        text-transform: uppercase;
        margin-top: 133px;
        margin-bottom: 35px;
    }
    
    section.image_banner_new_section .image-banner__content-wrap {
        position: absolute;
        top: 50%;
        transform: translate(0%, -50%);
        left: 10%;
        flex-direction: column;
        width: auto;
        text-align: center;
        max-width: 550px;
        align-items: center;
        justify-content: space-between;
        height: 100%;
    }
    section.image_banner_new_section .image-banner__content-wrap p {
        color: #FFF;
        text-align: center;
        text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
        font-family: "Sohne_Breit_regular";
        font-size: 2.222vw;
        font-style: normal;
        font-weight: 500;
        line-height: normal;
        text-transform: uppercase;
        margin: 35px 0px 47px 0px;
    }
    section.image_banner_new_section .btn--started {
        border-radius: 74px;
        background: #C8E812;
        width: 261px;
        height: 55px;
        font-family: 'Lato Bold', sans-serif;
        color: #212121;
        text-align: center;
        font-size: 1.389vw;
        font-style: normal;
        font-weight: 900;
        line-height: normal;
    }
    .banner-bottom {
        color: #FFF;
        font-family: 'Lato Bold', sans-serif !important;
        font-size: 16px !important;
        font-style: normal;
        font-weight: 700;
        line-height: normal;
    }
    .banner-bottom p {
        color: #FFF;
        font-family: "Lato Semibold" !important;
        font-size: 16px !important;
        font-style: normal !important;
        font-weight: 700 !important;
        line-height: normal !important;
        margin: 0 auto !important;
        padding-bottom: 41px;
        text-transform: capitalize !important;
    }
    @media screen and (min-width: 2000px) {
        section.image_banner_new_section .image-banner__content-wrap{
            left: 15%;
        }
        section.image_banner_new_section .btn--started{
            width: 13.05vw;
            height: 2.75vw;
        }
        .banner-bottom p{
            font-size: 0.8vw !important;
        }
    }
    @media screen and (min-width: 1441px) {
        section.image_banner_new_section .image-banner__content-wrap{
            max-width: 43vw;
        }
    }
    @media screen and (max-width: 1100px) {
        /* section.image_banner_new_section .image-banner__content-wrap {
            left: 50px;
        } */
        .image-with-banner.image_banner_new_section h2 {
            margin-top: 70px;
        }
    }
    @media screen and (max-width: 768px) {
        .item label h4 {
            max-width: 100%;
        }
        .banner-top {
            text-align: left;
        }
        .banner-bottom {
            font-size: 14px !important;
            width: 100%;
            background: linear-gradient(0deg, rgba(0, 0, 0, 0.50) 0%, rgba(0, 0, 0, 0.00) 100%);
        }
        .banner-bottom p{
            font-family: "Lato Semibold";
            font-size: 14px;
            padding-top: 70px;
        }
        .banner__overlay {
            opacity: 0.3;
            background: rgba(0, 0, 0, 0.70);
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
        }
        .tablet_video_wrapper {
            display: block !important;
        }
        .tablet_video_wrapper{
            display: block !important;
        }
        .desktop_video_wrapper {
            display: none !important;
        }
        section.image_banner_new_section .image-banner__content-wrap {
            top: 25px;
            transform: inherit;
            left: 50%;
            transform: translateX(-50%);
            text-align: left;
            width: 100%;
            gap: 10px;
            text-align: center;
            justify-content: space-between;
            height: calc(100% - 25px);
            max-width: unset;
        }
        .image-with-banner.image_banner_new_section h2 {
            font-size: 80px;
            font-style: normal;
            font-weight: 700;
            line-height: 86px;
            letter-spacing: 0.8px;
            text-transform: uppercase;
            margin-top: 0px;
        }
        section.image_banner_new_section .image-banner__content-wrap p {
            font-size: 22px;
            font-style: normal;
            font-weight: 500;
            line-height: normal;
            text-transform: uppercase;
            margin: 20px 0px 26px 0px;
        }
        section.image_banner_new_section .btn--started {
            margin-left: 0;
            font-size: 17px;
            font-style: normal;
            font-weight: 900;
            line-height: normal;
            text-transform: uppercase;
            width: 195px;
            height: 55px;
        }
        .banner-bottom p{
            padding-bottom: 16px;
        
        }
        .banner-top h4 {
            font-size: 22px;
        }
    }
    @media screen and (max-width: 540px) {
        .mobile_video_wrapper {
            display: block !important;
        }
        .mobile_video_wrapper > img{
            object-position: bottom;

        }
        .tablet_video_wrapper {
            display: none !important;
        }
        .image-with-banner.image_banner_new_section h2{
           font-size: 18vw;
           line-height: 100%;

        }
        section.image_banner_new_section .btn--started{
          width: unset;
        }
    }
    @media screen and (max-width: 320px) {
        .image-with-banner.image_banner_new_section h2{
            font-size: 48px;
        }
        section.image_banner_new_section .image-banner__content-wrap p{
            margin: 10px 0px 16px 0px;
        }
    }
</style>
{% schema %}
  {
    "name": "Quiz Banner",
    "tag": "section",
    "class": "image_banner_new_section",
    "settings": [
      {
        "type": "image_picker",
        "id": "desktop_img",
        "label": "t:sections.general_section_settings.label_for_desktop_image_setting"
      },
      {
        "type": "image_picker",
        "id": "mobile_img",
        "label": "t:sections.general_section_settings.label_for_mobile_image_setting"
      },
      {
        "type": "image_picker",
        "id": "tablet_img",
        "label": "Tablet Image"
      },
      {
        "type": "header",
        "content": "t:sections.image_banner.content_settings_header"
      },
      {
        "type": "text",
        "id": "caption",
        "default": "IMAGE BANNER",
        "label": "Top bar"
      }, {
        "type": "html",
        "id": "title",
        "default": "Image with text",
        "label": "t:sections.image_banner.label_for_title_setting"
      }, {
        "type": "richtext",
        "id": "text",
        "default": "<p>Fill in the text to tell customers by what your products are inspired.</p>",
        "label": "t:sections.image_banner.label_for_text_setting"
      }, {
        "type": "richtext",
        "id": "note",
        "default": "<p>Fill in the text to tell customers by what your products are inspired.</p>",
        "label": "Note"
      }
    ],
    "presets": [
        {
          "name": "Main Quiz Banner"
        }
      ]
  }
{% endschema %}